--// AUTO FARM BOUNTY - Blox Fruits //

_G.Settings = {
    AutoKill = true, -- T·ª± ƒë·ªông gi·∫øt ng∆∞·ªùi ch∆°i g·∫ßn nh·∫•t
    AutoTeleport = true, -- D·ªãch chuy·ªÉn ƒë·∫øn m·ª•c ti√™u
    AutoDodge = true, -- N√© ƒë√≤n khi b·ªã t·∫•n c√¥ng
    AutoServerHop = true, -- ƒê·ªïi server khi h·∫øt m·ª•c ti√™u
    KillDelay = 0.5, -- Th·ªùi gian delay gi·ªØa c√°c l·∫ßn t·∫•n c√¥ng
    UseSkills = true, -- D√πng k·ªπ nƒÉng tr√°i √°c qu·ª∑, ki·∫øm, s√∫ng
    AutoAwakenV4 = true, -- T·ª± ƒë·ªông b·∫≠t V4 n·∫øu c√≥
    AutoPVP = true, -- T·ª± ƒë·ªông b·∫≠t PVP n·∫øu b·ªã gi·∫øt
    AutoSelectPirates = true -- T·ª± ƒë·ªông ch·ªçn phe H·∫£i T·∫∑c
}

-- Load th∆∞ vi·ªán h·ªó tr·ª£
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local VirtualInputManager = game:GetService("VirtualInputManager")
local CurrentTarget = nil

-- **Danh s√°ch skill c√≥ trong game**
local SkillKeys = {"Z", "X", "C", "V", "F"}

-- **H√†m t·ª± ƒë·ªông ch·ªçn phe H·∫£i T·∫∑c**
function AutoSelectPirates()
    if _G.Settings.AutoSelectPirates then
        local teamSelection = game:GetService("ReplicatedStorage"):FindFirstChild("Remotes"):FindFirstChild("SelectTeam")
        if teamSelection then
            teamSelection:InvokeServer("Pirates")
        end
    end
end

-- **H√†m t√¨m ng∆∞·ªùi ch∆°i g·∫ßn nh·∫•t**
function GetNearestPlayer()
    local nearest, distance = nil, math.huge
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local mag = (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).magnitude
            if mag < distance then
                distance = mag
                nearest = player
            end
        end
    end
    return nearest
end

-- **H√†m b·∫≠t PVP n·∫øu b·ªã gi·∫øt**
function AutoEnablePVP()
    LocalPlayer.Character.Humanoid.Died:Connect(function()
        if _G.Settings.AutoPVP then
            VirtualInputManager:SendKeyEvent(true, "P", false, game)
        end
    end)
end

-- **H√†m teleport ƒë·∫øn m·ª•c ti√™u**
function TeleportTo(target)
    if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
    end
end

-- **H√†m t·ª± ƒë·ªông s·ª≠ d·ª•ng skill v≈© kh√≠ ƒëang c·∫ßm**
function AutoUseEquippedWeapons()
    local Character = LocalPlayer.Character
    if not Character then return end

    local Humanoid = Character:FindFirstChildOfClass("Humanoid")
    if not Humanoid then return end

    local EquippedTool = Humanoid:FindFirstChildOfClass("Tool") -- L·∫•y v≈© kh√≠ ƒëang c·∫ßm
    if EquippedTool then
        print("üõ† ƒêang d√πng:", EquippedTool.Name)

        -- **Spam to√†n b·ªô skill c√≥ th·ªÉ d√πng**
        for _, skill in ipairs(SkillKeys) do
            VirtualInputManager:SendKeyEvent(true, skill, false, game)
            wait(0.3) -- Delay nh·ªè ƒë·ªÉ tr√°nh bug
        end
    end
end

-- **H√†m auto kill**
function AutoKill()
    while _G.Settings.AutoKill do
        if not CurrentTarget or not CurrentTarget.Character or not CurrentTarget.Character:FindFirstChild("HumanoidRootPart") then
            CurrentTarget = GetNearestPlayer()
        end
        if CurrentTarget then
            if _G.Settings.AutoTeleport then TeleportTo(CurrentTarget) end
            AutoUseEquippedWeapons()
        end
        wait(_G.Settings.KillDelay)
    end
end

-- **H√†m n√© ƒë√≤n**
function AutoDodge()
    while _G.Settings.AutoDodge do
        local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if humanoid and humanoid.Health < humanoid.MaxHealth * 0.5 then
            LocalPlayer.Character.HumanoidRootPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(10, 0, 0)
        end
        wait(0.2)
    end
end

-- **H√†m ƒë·ªïi server**
function ServerHop()
    while _G.Settings.AutoServerHop do
        local players = #Players:GetPlayers()
        if players < 2 then
            -- G·ªçi API ƒë·ªïi server (C·∫ßn Executor h·ªó tr·ª£)
            game:GetService("TeleportService"):Teleport(game.PlaceId)
        end
        wait(10)
    end
end

-- **H√†m t·ª± ƒë·ªông b·∫≠t V4**
function AutoAwakenV4()
    while _G.Settings.AutoAwakenV4 do
        if LocalPlayer.Character:FindFirstChild("AwakeningV4") == nil then
            VirtualInputManager:SendKeyEvent(true, "T", false, game)
        end
        wait(5)
    end
end

-- **Ch·∫°y script**
spawn(AutoSelectPirates)
spawn(AutoKill)
spawn(AutoDodge)
spawn(ServerHop)
spawn(AutoAwakenV4)
spawn(AutoEnablePVP)
